{% doc %}
  @prompt
    build a Find a Beanly Store near you! section for me. should be modern should have the font picker option also should be neubrutalism ui, i didn't want like this when someone click that it should redirect them to this: https://www.google.com/maps/place/Beanly+Coffee/@28.451404,77.096585,17z/data=!3m1!4b1!4m6!3m5!1s0x390d19a101109eed:0x28035c4dc7bcbb21!8m2!3d28.451404!4d77.096585!16s%2Fg%2F11w46tmmrj?entry=ttu&g_ep=EgoyMDI1MTIwMi4wIKXMDSoASAFQAw%3D%3D
{% enddoc %}

{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-store-locator-{{ ai_gen_id }} {
    padding: 60px 20px;
    background-color: {{ block.settings.background_color }};
  }

  .ai-store-locator-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
  }

  .ai-store-locator-header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 50px;
  }

  .ai-store-locator-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-style: {{ block.settings.heading_font.style }};
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0 0 20px 0;
    text-transform: uppercase;
    letter-spacing: -1px;
  }

  .ai-store-locator-subtitle-{{ ai_gen_id }} {
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: {{ block.settings.body_font.weight }};
    font-style: {{ block.settings.body_font.style }};
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0;
  }

  .ai-store-locator-search-{{ ai_gen_id }} {
    max-width: 600px;
    margin: 0 auto 50px;
    position: relative;
  }

  .ai-store-locator-input-wrapper-{{ ai_gen_id }} {
    position: relative;
    border: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    background-color: {{ block.settings.input_background }};
    box-shadow: {{ block.settings.shadow_offset }}px {{ block.settings.shadow_offset }}px 0 {{ block.settings.shadow_color }};
    transition: transform 0.2s ease;
  }

  .ai-store-locator-input-wrapper-{{ ai_gen_id }}:focus-within {
    transform: translate({{ block.settings.shadow_offset | times: -0.5 }}px, {{ block.settings.shadow_offset | times: -0.5 }}px);
  }

  .ai-store-locator-input-{{ ai_gen_id }} {
    width: 100%;
    padding: 18px 60px 18px 20px;
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: {{ block.settings.body_font.weight }};
    font-size: 16px;
    border: none;
    background: transparent;
    color: {{ block.settings.text_color }};
  }

  .ai-store-locator-input-{{ ai_gen_id }}::placeholder {
    color: {{ block.settings.text_color }};
    opacity: 0.6;
  }

  .ai-store-locator-search-btn-{{ ai_gen_id }} {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background-color: {{ block.settings.button_color }};
    color: {{ block.settings.button_text_color }};
    border: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    padding: 10px 20px;
    cursor: pointer;
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: 700;
    text-transform: uppercase;
    font-size: 14px;
    box-shadow: 3px 3px 0 {{ block.settings.shadow_color }};
    transition: all 0.2s ease;
  }

  .ai-store-locator-search-btn-{{ ai_gen_id }}:hover {
    transform: translateY(-50%) translate(-2px, -2px);
    box-shadow: 5px 5px 0 {{ block.settings.shadow_color }};
  }

  .ai-store-locator-search-btn-{{ ai_gen_id }}:active {
    transform: translateY(-50%) translate(0, 0);
    box-shadow: 2px 2px 0 {{ block.settings.shadow_color }};
  }

  .ai-store-locator-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-bottom: 40px;
  }

  .ai-store-card-{{ ai_gen_id }} {
    background-color: {{ block.settings.card_background }};
    border: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    padding: 30px;
    box-shadow: {{ block.settings.shadow_offset }}px {{ block.settings.shadow_offset }}px 0 {{ block.settings.shadow_color }};
    transition: all 0.3s ease;
    text-decoration: none;
    display: block;
    cursor: pointer;
  }

  .ai-store-card-{{ ai_gen_id }}:hover {
    transform: translate(-4px, -4px);
    box-shadow: {{ block.settings.shadow_offset | plus: 4 }}px {{ block.settings.shadow_offset | plus: 4 }}px 0 {{ block.settings.shadow_color }};
  }

  .ai-store-card-name-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: 24px;
    color: {{ block.settings.heading_color }};
    margin: 0 0 15px 0;
    text-transform: uppercase;
  }

  .ai-store-card-address-{{ ai_gen_id }} {
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-size: 16px;
    color: {{ block.settings.text_color }};
    margin: 0 0 10px 0;
    line-height: 1.6;
  }

  .ai-store-card-phone-{{ ai_gen_id }} {
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-size: 16px;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px 0;
    font-weight: 600;
  }

  .ai-store-card-btn-{{ ai_gen_id }} {
    display: inline-block;
    background-color: {{ block.settings.button_color }};
    color: {{ block.settings.button_text_color }};
    border: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    padding: 12px 24px;
    text-decoration: none;
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: 700;
    text-transform: uppercase;
    font-size: 14px;
    box-shadow: 4px 4px 0 {{ block.settings.shadow_color }};
    transition: all 0.2s ease;
  }

  .ai-store-card-{{ ai_gen_id }}:hover .ai-store-card-btn-{{ ai_gen_id }} {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 {{ block.settings.shadow_color }};
  }

  .ai-store-locator-cta-{{ ai_gen_id }} {
    text-align: center;
    margin-top: 50px;
  }

  .ai-store-locator-cta-btn-{{ ai_gen_id }} {
    display: inline-block;
    background-color: {{ block.settings.cta_button_color }};
    color: {{ block.settings.cta_button_text_color }};
    border: {{ block.settings.border_width }}px solid {{ block.settings.border_color }};
    padding: 18px 40px;
    text-decoration: none;
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: 700;
    text-transform: uppercase;
    font-size: 18px;
    box-shadow: 6px 6px 0 {{ block.settings.shadow_color }};
    transition: all 0.2s ease;
  }

  .ai-store-locator-cta-btn-{{ ai_gen_id }}:hover {
    transform: translate(-3px, -3px);
    box-shadow: 9px 9px 0 {{ block.settings.shadow_color }};
  }

  .ai-store-locator-cta-btn-{{ ai_gen_id }}:active {
    transform: translate(0, 0);
    box-shadow: 3px 3px 0 {{ block.settings.shadow_color }};
  }

  @media screen and (max-width: 768px) {
    .ai-store-locator-{{ ai_gen_id }} {
      padding: 40px 15px;
    }

    .ai-store-locator-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.7 }}px;
    }

    .ai-store-locator-subtitle-{{ ai_gen_id }} {
      font-size: {{ block.settings.subtitle_size | times: 0.9 }}px;
    }

    .ai-store-locator-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .ai-store-locator-search-btn-{{ ai_gen_id }} {
      position: static;
      transform: none;
      width: 100%;
      margin-top: 15px;
    }

    .ai-store-locator-search-btn-{{ ai_gen_id }}:hover {
      transform: translate(-2px, -2px);
    }

    .ai-store-locator-input-{{ ai_gen_id }} {
      padding: 18px 20px;
    }
  }
{% endstyle %}

<div class="ai-store-locator-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-store-locator-container-{{ ai_gen_id }}">
    <div class="ai-store-locator-header-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-store-locator-title-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
      {% endif %}
      {% if block.settings.subtitle != blank %}
        <p class="ai-store-locator-subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</p>
      {% endif %}
    </div>

    <div class="ai-store-locator-search-{{ ai_gen_id }}">
      <div class="ai-store-locator-input-wrapper-{{ ai_gen_id }}">
        <input
          type="text"
          class="ai-store-locator-input-{{ ai_gen_id }}"
          placeholder="{{ block.settings.search_placeholder }}"
          aria-label="Search for stores"
        >
        <button class="ai-store-locator-search-btn-{{ ai_gen_id }}" aria-label="Search">
          {{ block.settings.search_button_text }}
        </button>
      </div>
    </div>

    <div class="ai-store-locator-grid-{{ ai_gen_id }}">
      {% for i in (1..3) %}
        {% liquid
          assign store_name_key = 'store_' | append: i | append: '_name'
          assign store_address_key = 'store_' | append: i | append: '_address'
          assign store_phone_key = 'store_' | append: i | append: '_phone'
          assign store_link_key = 'store_' | append: i | append: '_link'

          assign store_name = block.settings[store_name_key]
          assign store_address = block.settings[store_address_key]
          assign store_phone = block.settings[store_phone_key]
          assign store_link = block.settings[store_link_key]
        %}

        {% if store_name != blank %}
          <a 
            href="{% if store_link != blank %}{{ store_link }}{% else %}https://www.google.com/maps/place/Beanly+Coffee/@28.451404,77.096585,17z/data=!3m1!4b1!4m6!3m5!1s0x390d19a101109eed:0x28035c4dc7bcbb21!8m2!3d28.451404!4d77.096585!16s%2Fg%2F11w46tmmrj?entry=ttu&g_ep=EgoyMDI1MTIwMi4wIKXMDSoASAFQAw%3D%3D{% endif %}"
            class="ai-store-card-{{ ai_gen_id }}"
            target="_blank"
            rel="noopener noreferrer"
          >
            <h3 class="ai-store-card-name-{{ ai_gen_id }}">{{ store_name }}</h3>
            {% if store_address != blank %}
              <p class="ai-store-card-address-{{ ai_gen_id }}">{{ store_address }}</p>
            {% endif %}
            {% if store_phone != blank %}
              <p class="ai-store-card-phone-{{ ai_gen_id }}">{{ store_phone }}</p>
            {% endif %}
            <span class="ai-store-card-btn-{{ ai_gen_id }}">
              {{ block.settings.directions_text }}
            </span>
          </a>
        {% endif %}
      {% endfor %}
    </div>

    {% if block.settings.cta_text != blank and block.settings.cta_link != blank %}
      <div class="ai-store-locator-cta-{{ ai_gen_id }}">
        <a href="{{ block.settings.cta_link }}" class="ai-store-locator-cta-btn-{{ ai_gen_id }}">
          {{ block.settings.cta_text }}
        </a>
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Find a Beanly store",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Find a Beanly Store Near You!"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Visit us in person and experience the best coffee in town"
    },
    {
      "type": "text",
      "id": "search_placeholder",
      "label": "Search placeholder",
      "default": "Enter your city or zip code"
    },
    {
      "type": "text",
      "id": "search_button_text",
      "label": "Search button text",
      "default": "Search"
    },
    {
      "type": "text",
      "id": "directions_text",
      "label": "Directions button text",
      "default": "Get Directions"
    },
    {
      "type": "header",
      "content": "Store 1"
    },
    {
      "type": "text",
      "id": "store_1_name",
      "label": "Store name",
      "default": "Beanly Downtown"
    },
    {
      "type": "textarea",
      "id": "store_1_address",
      "label": "Address",
      "default": "123 Main Street, New York, NY 10001"
    },
    {
      "type": "text",
      "id": "store_1_phone",
      "label": "Phone",
      "default": "(555) 123-4567"
    },
    {
      "type": "url",
      "id": "store_1_link",
      "label": "Google Maps link"
    },
    {
      "type": "header",
      "content": "Store 2"
    },
    {
      "type": "text",
      "id": "store_2_name",
      "label": "Store name",
      "default": "Beanly Uptown"
    },
    {
      "type": "textarea",
      "id": "store_2_address",
      "label": "Address",
      "default": "456 Park Avenue, New York, NY 10022"
    },
    {
      "type": "text",
      "id": "store_2_phone",
      "label": "Phone",
      "default": "(555) 234-5678"
    },
    {
      "type": "url",
      "id": "store_2_link",
      "label": "Google Maps link"
    },
    {
      "type": "header",
      "content": "Store 3"
    },
    {
      "type": "text",
      "id": "store_3_name",
      "label": "Store name",
      "default": "Beanly Brooklyn"
    },
    {
      "type": "textarea",
      "id": "store_3_address",
      "label": "Address",
      "default": "789 Bedford Avenue, Brooklyn, NY 11211"
    },
    {
      "type": "text",
      "id": "store_3_phone",
      "label": "Phone",
      "default": "(555) 345-6789"
    },
    {
      "type": "url",
      "id": "store_3_link",
      "label": "Google Maps link"
    },
    {
      "type": "header",
      "content": "Call to action"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA button text",
      "default": "View All Locations"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA button link"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "helvetica_n7"
    },
    {
      "type": "font_picker",
      "id": "body_font",
      "label": "Body font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 48
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Subtitle size",
      "default": 18
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#FFE951"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "input_background",
      "label": "Input background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button background",
      "default": "#FF6B6B"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "cta_button_color",
      "label": "CTA button background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "cta_button_text_color",
      "label": "CTA button text",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "shadow_color",
      "label": "Shadow",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Neubrutalism style"
    },
    {
      "type": "range",
      "id": "border_width",
      "min": 2,
      "max": 8,
      "step": 1,
      "unit": "px",
      "label": "Border width",
      "default": 4
    },
    {
      "type": "range",
      "id": "shadow_offset",
      "min": 4,
      "max": 12,
      "step": 2,
      "unit": "px",
      "label": "Shadow offset",
      "default": 6
    }
  ],
  "presets": [
    {
      "name": "Find a Beanly store"
    }
  ]
}
{% endschema %}
